!function(e){"use strict";var n,s={VERSION:"1.3.0"},o={},t=function(e,t){return function(){return t.apply(e,arguments)}},i=function(){var e,t,n=arguments,o=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in o||!n[t].hasOwnProperty(e)||(o[e]=n[t][e]);return o},a=function(e,t){return{value:e,name:t}};s.DEBUG=a(1,"DEBUG"),s.INFO=a(2,"INFO"),s.TIME=a(3,"TIME"),s.WARN=a(4,"WARN"),s.ERROR=a(8,"ERROR"),s.OFF=a(99,"OFF");var r=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};r.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(s.DEBUG,arguments)},info:function(){this.invoke(s.INFO,arguments)},warn:function(){this.invoke(s.WARN,arguments)},error:function(){this.invoke(s.ERROR,arguments)},time:function(e){"string"==typeof e&&0<e.length&&this.invoke(s.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&0<e.length&&this.invoke(s.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,i({level:e},this.context))}};var l,c=new r({filterLevel:s.OFF});(l=s).enabledFor=t(c,c.enabledFor),l.debug=t(c,c.debug),l.time=t(c,c.time),l.timeEnd=t(c,c.timeEnd),l.info=t(c,c.info),l.warn=t(c,c.warn),l.error=t(c,c.error),l.log=l.info,s.setHandler=function(e){n=e},s.setLevel=function(e){for(var t in c.setLevel(e),o)o.hasOwnProperty(t)&&o[t].setLevel(e)},s.get=function(e){return o[e]||(o[e]=new r(i({name:e},c.context)))},s.createDefaultHandler=function(i){(i=i||{}).formatter=i.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var a={},r=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(e,t){e=Array.prototype.slice.call(e);var n,o=console.log;t.level===s.TIME?(n=(t.name?"["+t.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(n):a[n]=(new Date).getTime():console.timeEnd?console.timeEnd(n):r(o,[n+": "+((new Date).getTime()-a[n])+"ms"])):(t.level===s.WARN&&console.warn?o=console.warn:t.level===s.ERROR&&console.error?o=console.error:t.level===s.INFO&&console.info&&(o=console.info),i.formatter(e,t),r(o,e))}},s.useDefaults=function(e){s.setLevel(e&&e.defaultLevel||s.DEBUG),s.setHandler(s.createDefaultHandler(e))},"function"==typeof define&&define.amd?define(s):"undefined"!=typeof module&&module.exports?module.exports=s:(s._prevLogger=e.Logger,s.noConflict=function(){return e.Logger=s._prevLogger,s},e.Logger=s)}(this),function(f,g,m){function h(e,t){return typeof e===t}function p(){return"function"!=typeof g.createElement?g.createElement(arguments[0]):M?g.createElementNS.call(g,"http://www.w3.org/2000/svg",arguments[0]):g.createElement.apply(g,arguments)}function y(e,t,n,o){var i,a,r,s,l,c="modernizr",d=p("div"),u=((l=g.body)||((l=p(M?"svg":"body")).fake=!0),l);if(parseInt(n,10))for(;n--;)(r=p("div")).id=o?o[n]:c+(n+1),d.appendChild(r);return(i=p("style")).type="text/css",i.id="s"+c,(u.fake?u:d).appendChild(i),u.appendChild(d),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(g.createTextNode(e)),d.id=c,u.fake&&(u.style.background="",u.style.overflow="hidden",s=b.style.overflow,b.style.overflow="hidden",b.appendChild(u)),a=t(d,e),u.fake?(u.parentNode.removeChild(u),b.style.overflow=s,b.offsetHeight):d.parentNode.removeChild(d),!!a}function w(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function v(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function s(e,t,n,o){function i(){r&&(delete S.style,delete S.modElem)}if(o=!h(o,"undefined")&&o,!h(n,"undefined")){var a=function(e,t){var n=e.length;if("CSS"in f&&"supports"in f.CSS){for(;n--;)if(f.CSS.supports(w(e[n]),t))return!0;return!1}if("CSSSupportsRule"in f){for(var o=[];n--;)o.push("("+w(e[n])+":"+t+")");return y("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return m}(e,n);if(!h(a,"undefined"))return a}for(var r,s,l,c,d,u=["modernizr","tspan"];!S.style;)r=!0,S.modElem=p(u.shift()),S.style=S.modElem.style;for(l=e.length,s=0;s<l;s++)if(c=e[s],d=S.style[c],!!~(""+c).indexOf("-")&&(c=v(c)),S.style[c]!==m){if(o||h(n,"undefined"))return i(),"pfx"!=t||c;try{S.style[c]=n}catch(e){}if(S.style[c]!=d)return i(),"pfx"!=t||c}return i(),!1}function l(e,t){return function(){return e.apply(t,arguments)}}function o(e,t,n,o,i){var a=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+k.join(a+" ")+a).split(" ");return h(t,"string")||h(t,"undefined")?s(r,t,o,i):function(e,t,n){var o;for(var i in e)if(e[i]in t)return!1===n?e[i]:h(o=t[e[i]],"function")?l(o,n||t):o;return!1}(r=(e+" "+T.join(a+" ")+a).split(" "),t,n)}function e(e,t,n){return o(e,m,m,t,n)}var c=[],t={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){c.push({name:e,fn:t,options:n})},addAsyncTest:function(e){c.push({name:null,fn:e})}},d=function(){};d.prototype=t,d=new d;var u=[],b=g.documentElement,M="svg"===b.nodeName.toLowerCase();d.addTest("audio",function(){var e=p("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t}),d.addTest("canvas",function(){var e=p("canvas");return!(!e.getContext||!e.getContext("2d"))});var n="Moz O ms Webkit",k=t._config.usePrefixes?n.split(" "):[];t._cssomPrefixes=k;var i={elem:p("modernizr")};d._q.push(function(){delete i.elem});var S={style:i.elem.style};d._q.unshift(function(){delete S.style});var T=t._config.usePrefixes?n.toLowerCase().split(" "):[];t._domPrefixes=T,t.testAllProps=o;var a=function(e){var t,n=prefixes.length,o=f.CSSRule;if(void 0===o)return m;if(!e)return!1;if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+e;for(var i=0;i<n;i++){var a=prefixes[i];if(a.toUpperCase()+"_"+t in o)return"@-"+a.toLowerCase()+"-"+e}return!1};t.atRule=a;var r=t.prefixed=function(e,t,n){return 0===e.indexOf("@")?a(e):(-1!=e.indexOf("-")&&(e=v(e)),t?o(e,t,n):o(e,"pfx"))};d.addTest("requestanimationframe",!!r("requestAnimationFrame",f),{aliases:["raf"]}),t.testAllProps=e,d.addTest("cssanimations",e("animationName","a",!0)),d.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&e("transform","scale(1)",!0)}),d.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),function(){var e,t,n,o,i,a;for(var r in c)if(c.hasOwnProperty(r)){if(e=[],(t=c[r]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=h(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(a=e[i].split(".")).length?d[a[0]]=o:(!d[a[0]]||d[a[0]]instanceof Boolean||(d[a[0]]=new Boolean(d[a[0]])),d[a[0]][a[1]]=o),u.push((o?"":"no-")+a.join("-"))}}(),delete t.addTest,delete t.addAsyncTest;for(var L=0;L<d._q.length;L++)d._q[L]();f.Modernizr=d}(window,document),function(e,o,t){function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function y(e){if("keypress"!=e.type)return l[e.which]?l[e.which]:a[e.which]?a[e.which]:String.fromCharCode(e.which).toLowerCase();var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}function w(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t){var n,o,i,a=[];for(n="+"===(n=e)?["+"]:(n=n.replace(/\+{2}/g,"+plus")).split("+"),i=0;i<n.length;++i)o=n[i],d[o]&&(o=d[o]),t&&"keypress"!=t&&c[o]&&(o=c[o],a.push("shift")),w(o)&&a.push(o);if(n=o,!(i=t)){if(!s)for(var r in s={},l)95<r&&r<112||l.hasOwnProperty(r)&&(s[l[r]]=r);i=s[n]?"keydown":"keypress"}return"keypress"==i&&a.length&&(i="keydown"),{key:o,modifiers:a,action:i}}function i(e){function l(e){e=e||{};var t,n=!1;for(t in g)e[t]?n=!0:g[t]=0;n||(p=!1)}function s(e,t,n,o,i,a){var r,s,l=[],c=n.type;if(!u._callbacks[e])return[];for("keyup"==c&&w(e)&&(t=[e]),r=0;r<u._callbacks[e].length;++r)if(s=u._callbacks[e][r],(o||!s.seq||g[s.seq]==s.level)&&c==s.action){var d;(d="keypress"==c&&!n.metaKey&&!n.ctrlKey)||(d=s.modifiers,d=t.sort().join(",")===d.sort().join(",")),d&&(d=o&&s.seq==o&&s.level==a,(!o&&s.combo==i||d)&&u._callbacks[e].splice(r,1),l.push(s))}return l}function c(e,t,n,o){u.stopCallback(t,t.target||t.srcElement,n,o)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function t(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,n,o=y(e);o&&("keyup"==e.type&&m===o?m=!1:u.handleKey(o,(n=[],(t=e).shiftKey&&n.push("shift"),t.altKey&&n.push("alt"),t.ctrlKey&&n.push("ctrl"),t.metaKey&&n.push("meta"),n),e))}function d(e,t,n,o,i){u._directMap[e+":"+n]=t;var a=(e=e.replace(/\s+/g," ")).split(" ");1<a.length?function(t,e,n,o){function i(e){return function(){p=e,++g[t],clearTimeout(f),f=setTimeout(l,1e3)}}function a(e){c(n,e,t),"keyup"!==o&&(m=y(e)),setTimeout(l,10)}for(var r=g[t]=0;r<e.length;++r){var s=r+1===e.length?a:i(o||v(e[r+1]).action);d(e[r],s,o,t,r)}}(e,a,t,n):(n=v(e,n),u._callbacks[n.key]=u._callbacks[n.key]||[],s(n.key,n.modifiers,{type:n.action},o,e,i),u._callbacks[n.key][o?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:o,level:i,combo:e}))}var u=this;if(e=e||o,!(u instanceof i))return new i(e);u.target=e,u._callbacks={},u._directMap={};var f,g={},m=!1,h=!1,p=!1;u._handleKey=function(e,t,n){var o,i=s(e,t,n),a=0,r=!(t={});for(o=0;o<i.length;++o)i[o].seq&&(a=Math.max(a,i[o].level));for(o=0;o<i.length;++o)i[o].seq?i[o].level==a&&(r=!0,t[i[o].seq]=1,c(i[o].callback,n,i[o].combo,i[o].seq)):r||c(i[o].callback,n,i[o].combo);i="keypress"==n.type&&h,n.type!=p||w(e)||i||l(t),h=r&&"keydown"==n.type},u._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)d(e[o],t,n)},n(e,"keypress",t),n(e,"keydown",t),n(e,"keyup",t)}if(e){var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(t=1;t<20;++t)l[111+t]="f"+t;for(t=0;t<=9;++t)l[t+96]=t;i.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},i.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},i.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},i.prototype.reset=function(){return this._callbacks={},this._directMap={},this},i.prototype.stopCallback=function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap ")||function e(t,n){return null!==t&&t!==o&&(t===n||e(t.parentNode,n))}(t,this.target))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},i.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},i.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);s=null},i.init=function(){var e,t=i(o);for(e in t)"_"!==e.charAt(0)&&(i[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},i.init(),e.Mousetrap=i,"undefined"!=typeof module&&module.exports&&(module.exports=i),"function"==typeof define&&define.amd&&define(function(){return i})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),window.config={cdnBase:"/",step:100,celestialSpeed:6e3,initialStarsCount:180,inititalCelestialBodies:20,initialEyes:0,meew0Mode:!0,meew0ModeEyesPerLevel:5,meew0ModeKeyword:"andrei",nyanMode:!0,nyanStars:!0,nyanStarsCount:20,nyanStarSizePx:56,nyanStarSpeed:60,nyanHideCelestialBodies:!0,nyanSong:["Nyanyanyanyanyanyanya! - daniwell (Momone Momo UTAU Cover)","https://www.nicovideo.jp/watch/sm13455867"],visualizer:!0,lightTheme:!1,celestialBodies:["nebula.png","ring_thing.png","b2nzy.png","clock.png","moon.png","jake.png","b1nzy-hands.png","AAAAAAAAAAAAAAH.png","cromulon.png","nebula2.png","satellite.png"],audio:!0,partyMode:!0,audioVolumeDefault:.7,audioFiles:[["Alliance - The Speed Of Light","https://www.youtube.com/watch?v=Z8c8MSNk4BY"],["Approaching Nirvana & Big Giant Circles - Reboot","https://www.youtube.com/watch?v=JgXIQwHZ8-0"],["Bag Raiders - Shooting Stars","https://www.youtube.com/watch?v=feA64wXhbjo"],["Big Giant Circles - Go For Distance","https://www.youtube.com/watch?v=RF1rFSoN3JQ"],["Danny Baranowsky - Moonsong","https://www.youtube.com/watch?v=MtkECyiRExE"],["Dunderpatrullen - To The Moon","https://www.youtube.com/watch?v=YFMLHCMc91c"],["Graviton Flux - Singularity","https://soundcloud.com/graviton-flux/singularity"],["Hans Zimmer - Time (Aviators Remix)","https://www.youtube.com/watch?v=kfMQcUTtzKg"],["Iseeicy - TIME","https://www.youtube.com/watch?v=nw2qiR6f05Q"],["Kai Engel - The Flames of Rome","https://www.youtube.com/watch?v=Ck-ZYR-etgI"],["NOMA - Brain Power","https://www.youtube.com/watch?v=mj-v6zCnEaw"],["Queen - Don't Stop Me Now","https://www.youtube.com/watch?v=HgzGwKwLmgM"],["Renard - Send It To The Moon","https://www.youtube.com/watch?v=J0vUBlcGelI"],["Teo Wei Yong - Divided Singularity","https://www.youtube.com/watch?v=kvJYs14j0bg"]],loadingQuotes:["To the moon!","Beep. Boop.","Letting the bass kick.","Adding a ratelimit to meme creation.","Spinning all day, 'erryday.","HI MOM ITS ANDREI!!!!!!!","I'll ratelimit you.","Nyanyanyanyanyanyanyanyanyanyanyanyanyanyanyanyanya!"]},Logger.time("init"),Modernizr.localstorage&&localStorage.getItem("debug")&&(Logger.useDefaults(),config.cdnBase="",Logger.info("[Logger] Enabled logging."));for(var modernizrTests=["audio","canvas","requestanimationframe","cssanimations","csstransforms","localstorage"],i=0;i<modernizrTests.length;i++){if(!Modernizr[modernizrTests[i]])throw Logger.error("[Modernizr] Browser does not support required browser feature "+modernizrTests[i]+"."),new Error("Unsupported browser.");Logger.info("[Modernizr] Browser supports required browser feature "+modernizrTests[i]+".")}function r(e){/in/.test(document.readyState)?setTimeout("r("+e+")",9):e()}document.getElementById("loading-text").innerText=config.loadingQuotes[Math.floor(Math.random()*config.loadingQuotes.length)],document.documentElement.classList.remove("unsupported-browser"),document.documentElement.classList.add("supported-browser"),Logger.info("[Modernizr] Set the browser status to supported.");var url=document.URL,request={},pairs=url.substring(url.indexOf("?")+1).split("&");for(i=0;i<pairs.length;i++)if(pairs[i]){var pair=pairs[i].split("=");request[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}window.query=request,config.meew0Mode||(document.getElementById("meew-mode-button").style.display="none",Logger.info("[Config] Disabled meew0 mode.")),config.visualizer||(document.getElementById("visualizer").style.display="none",Logger.info("[Config] Disabled visualizer.")),config.audio||(document.getElementById("audio-info").style.display="none",document.getElementById("skippable").style.display="none",Logger.info("[Config] Disabled audio.")),config.lightTheme&&(document.body.classList.add("light-theme"),Logger.info("[Config] Enabled light theme."));var canvas=document.getElementById("space-backdrop");function updateTimer(){var e=((new Date).getTime()-initalTime)/1e3;document.getElementById("ratelimited-time").innerText=parseFloat(e).toFixed(2)}function tweet(){var e=((new Date).getTime()-initalTime)/1e3;window.open("https://twitter.com/intent/tweet?url=http%3A%2F%2Ftakeb1nzyto.space&text=I%20got%20ratelimited%20for%20"+parseFloat(e).toFixed(2)+"%20seconds!&related=deansheather1&hashtags=b1nzy,ratelimited","_blank").focus(),Logger.info("[Timer] Attempted to open Twitter intent URL in a new tab.")}window.backdrop={canvas:canvas,ctx:canvas.getContext("2d")},window.initalTime=(new Date).getTime(),setInterval(updateTimer,10),document.getElementById("tweet-intent").onclick=tweet;var CelestialBody=function(e){this.img=e,this.reconfig()};CelestialBody.prototype.reconfig=function(){if(nyanMode.hideCelestialBodies)this.y=-1e3;else{var e=getDimensions();this.x=Math.round(Math.random()*(e.w+50))-50,this.y=-200,this.depth=Math.random(),this.trans=Math.random(),this.trans=.5<this.trans?this.trans:.5,this.rotation=Math.floor(180*Math.random())+1,this.rotate_by=Math.floor(3*Math.random())+1,this.rotate_by=.5<Math.random()?-1*this.rotate_by:this.rotate_by}},CelestialBody.prototype.render=function(e,t){if(-1e3!==this.y){var n=config.celestialSpeed/config.step*this.depth;nyanMode.hideCelestialBodies&&n<20&&(n=20);var o=(200<config.celestialSpeed?200:config.celestialSpeed)*this.depth;o=o<50?50:o;var i=this.img.height/this.img.width*o;e.save(),this.rotation+=this.rotate_by,180<this.rotation&&(this.rotation=this.rotation-180-180),this.rotation<-180&&(this.rotation=180-(this.rotation+180)),e.translate(this.x+o/2,this.y+i/2),e.rotate(this.rotation*Math.PI/180),e.globalAlpha=this.trans,e.drawImage(this.img,-o/2,-i/2,o,i),e.globalAlpha=1,e.restore(),this.y=this.y+n,this.y>t.h&&this.reconfig()}else this.reconfig()};var NyanStarBitMaps=[[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,1,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,1,0,0,0],[0,0,1,0,1,0,0],[0,0,0,1,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,1,1,0,1,1,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,0,0,0,0],[1,1,0,1,0,1,1],[0,0,0,0,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0]],[[0,0,0,1,0,0,0],[0,1,0,0,0,1,0],[0,0,0,0,0,0,0],[1,0,0,0,0,0,1],[0,0,0,0,0,0,0],[0,1,0,0,0,1,0],[0,0,0,1,0,0,0]],[[0,0,0,1,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[1,0,0,0,0,0,1],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,1,0,0,0]]],NyanStar=function(){this.reconfig(),this.frame=0};NyanStar.prototype.reconfig=function(){if(nyanMode.alternativeStars){var e=getDimensions();this.x=Math.round(Math.random()*e.w),this.y=Math.floor(2e3*Math.random())-2e3,this.step=Math.floor(Math.random()*NyanStarBitMaps.length)}else this.y=-1e4},NyanStar.prototype.render=function(e,t){if(-1e4===this.y)return this.reconfig();if(!nyanMode.alternativeStars&&this.y<0)return this.reconfig();for(var n=this.x-config.nyanStarSizePx/2,o=this.y-config.nyanStarSizePx/2,i=config.nyanStarSizePx/7,a=NyanStarBitMaps[this.step],r=0;r<a.length;r++)for(var s=0;s<a[r].length;s++)if(1===a[r][s]){var l=n+r*i,c=o+s*i;e.fillStyle=config.lightTheme?"#010916":"#fff",e.fillRect(l,c,i,i)}4===this.frame?(this.frame=0,this.step=this.step+1,5<this.step&&(this.step=0),this.y=this.y+(nyanMode.alternativeStars?config.nyanStarSpeed:4*config.nyanStarSpeed),this.y>t.h&&this.reconfig()):this.frame+=1};var Star=function(){this.reconfig()};Star.prototype.reconfig=function(){if(nyanMode.alternativeStars)this.y=-1e4;else{var e=getDimensions();this.x=Math.round(Math.random()*e.w),this.y=-200,this.depth=Math.random()}},Star.prototype.render=function(e,t){if(-1e4!==this.y){nyanMode.alternativeStars&&this.y>t.h&&this.reconfig();var n=config.celestialSpeed/config.step*this.depth;nyanMode.alternativeStars&&n<20&&(n=20);var o=(500<config.celestialSpeed?500:config.celestialSpeed)*this.depth;e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.x,this.y+o),e.strokeStyle=config.lightTheme?"#010916":"#fff",e.lineCap="round",e.lineWidth=3*this.depth,e.stroke(),this.y=this.y+n,this.y>t.h&&this.reconfig()}else this.reconfig()},"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var getDimensions=function(){var e,t;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{w:e,h:t}},resize=function(){var e=getDimensions();canvas.setAttribute("width",e.w),canvas.setAttribute("height",e.h),Logger.info("[Backdrop] Resized the canvas to fit the viewport.")};function render(){backdrop.ctx.clearRect(0,0,backdrop.canvas.width,backdrop.canvas.height);for(var e=getDimensions(),t=0;t<celestials.length;t++)celestials[t].render(backdrop.ctx,e);requestAnimationFrame(render)}function draw(){if(!window.started){window.started=!0;for(var e=0,t=[],n=0;n<config.celestialBodies.length;n++)t.push(new Image),t[n].onload=function(){++e>=config.celestialBodies.length&&o()},t[n].src=config.cdnBase+"assets/img/"+config.celestialBodies[n]}function o(){for(var e=0;e<config.initialStarsCount;e++)celestials.push(new Star);if(config.nyanMode&&config.nyanStars)for(e=0;e<config.nyanStarsCount;e++)celestials.push(new NyanStar);for(e=0;e<config.inititalCelestialBodies;e++)celestials.push(new CelestialBody(t[Math.floor(Math.random()*t.length)]));render(),Logger.info("[Renderer] Rendering started."),Logger.timeEnd("init"),document.documentElement.classList.remove("loading"),document.documentElement.classList.add("loaded")}}function togglePartyMode(){config.partyMode&&(partyMode.active?(document.body.classList.remove("party-mode"),partyMode.active=!1):(document.body.classList.add("party-mode"),partyMode.active=!0))}window.addEventListener("resize",resize),resize(),window.celestials=[],r(draw),window.partyMode={active:!1},Mousetrap.bind("p",togglePartyMode),query.hasOwnProperty("party")&&togglePartyMode(),window.meew0Mode={count:0,blocked:!1,askedBlock:!1};var meewButton=document.getElementById("meew-mode-button"),lightModeButton=document.getElementById("light-mode-button"),eyes=new Image;function incrementMeew0Mode(){if(config.meew0Mode&&!meew0Mode.blocked&&(!config.nyanMode||!nyanMode.hideCelestialBodies)){if(4999<meew0Mode.count&&!meew0Mode.askedBlock){meew0Mode.askedBlock=!0,Logger.info("[meew0 mode] Asking to ratelimit meew0 mode.");var e=prompt('meew0 mode has a ratelimit of 5,000 presses per session because the whole site is themed around ratelimits.\n\nWe can disable this ratelimit for you (be careful, bluescreens have happened in the past because people have reached high meew0 mode multipliers), just enter the secret word "'+config.meew0ModeKeyword+'" into the text box below and click "OK".\n\nIf you want to disable the meew0 mode button (and \'m\' keybind), just click "Cancel".');if("string"!=typeof e||e.toLowerCase()!==config.meew0ModeKeyword)return meew0Mode.blocked=!0,Logger.info("[meew0 mode] Meew0 mode ratelimited after "+meew0Mode.count+" increments."),meewButton.innerText="meew0 mode ratelimited x"+meew0Mode.count}meew0Mode.count++,meewButton.innerText="meew0 mode x"+meew0Mode.count,config.lightTheme=!0,document.body.classList.add("light-theme");for(var t=0;t<config.meew0ModeEyesPerLevel;t++)celestials.push(new CelestialBody(eyes))}}function toggleLightMode(){config.lightTheme?(document.body.classList.remove("light-theme"),config.lightTheme=!1,Logger.info("[meew0 mode] Disabled light theme.")):(document.body.classList.add("light-theme"),config.lightTheme=!0,Logger.info("[meew0 mode] Enabled light theme."))}eyes.src=config.cdnBase+"assets/img/eyes.png",meewButton.onclick=incrementMeew0Mode,lightModeButton.onclick=toggleLightMode,Mousetrap.bind("m",incrementMeew0Mode),Mousetrap.bind("l",toggleLightMode),window.nyanMode={count:0,active:!1,hideCelestialBodies:!1,alternativeStars:!1};var nyanButton=document.getElementById("nyan-mode-button");function toggleNyanMode(){config.nyanMode&&(nyanMode.active?(document.body.classList.remove("nyan-mode"),nyanMode.active=!1,nyanMode.hideCelestialBodies=!1,nyanMode.alternativeStars=!1):(document.body.classList.add("nyan-mode"),nyanMode.active=!0,nyanMode.alternativeStars=config.nyanStars,nyanMode.hideCelestialBodies=config.nyanHideCelestialBodies,0===nyanMode.count&&null!==config.nyanSong&&window.playSong&&window.playSong(config.nyanSong)),nyanMode.count++)}if(nyanButton.onclick=toggleNyanMode,Mousetrap.bind("n",toggleNyanMode),query.hasOwnProperty("nyan")&&(nyanMode.count=-1,toggleNyanMode(),nyanMode.count++,Array.isArray(window.celestials)))for(i=0;i<celestials.length;i++)celestials[i].reconfig();if(config.visualizer&&config.audio){var context=new AudioContext;window.visualizer={toggled:!1,context:context,analyser:context.createAnalyser()},visualizer.analyser.connect(context.destination),visualizer.analyser.fftSize=2048;var source=context.createMediaElementSource(document.getElementById("audio"));function toggleVisualiser(){visualizer.toggled=!visualizer.toggled,renderVisualizer(),Logger.info("[Visualizer] Toggled visualizer to "+(visualizer.toggled?"on":"off")+" state.")}function renderVisualizer(){var a=visualizer.analyser.frequencyBinCount,r=new Uint8Array(a);!function e(){if(visualizer.toggled){requestAnimationFrame(e),visualizer.analyser.getByteTimeDomainData(r),backdrop.ctx.lineWidth=2,backdrop.ctx.strokeStyle=config.lightTheme?"#010916":"#bdbdbd",backdrop.ctx.beginPath();for(var t=1*backdrop.canvas.width/a,n=0,o=0;o<a;o++){var i=r[o]/128*backdrop.canvas.height/2;backdrop.ctx[0===o?"moveTo":"lineTo"](n,i),n+=t}backdrop.ctx.lineTo(canvas.width,canvas.height/2),backdrop.ctx.stroke()}}()}source.connect(visualizer.analyser),document.getElementById("visualizer-toggle").onclick=toggleVisualiser,Mousetrap.bind("v",toggleVisualiser),query.hasOwnProperty("visualizer")&&setTimeout(function(){visualizer.toggled=!0,renderVisualizer()},2e3)}config.audio&&r(function(){var n=document.getElementById("audio"),o=document.getElementById("song"),i=document.getElementById("audio-autoplay"),a=null;function r(){var e=config.audioFiles[Math.floor(Math.random()*config.audioFiles.length)];if(a===e)return r();Logger.info("[Player] Changing song..."),t(e)}null!==localStorage.getItem("takeb1nzytospace:playerVolume")?n.volume=parseFloat(localStorage.getItem("takeb1nzytospace:playerVolume")):n.volume=config.audioVolumeDefault,document.getElementById("skip-song").onclick=r,Mousetrap.bind("s",r),Mousetrap.bind("up",function(e){e.preventDefault(),n.volume=1==n.volume?n.volume:Math.round(10*(n.volume+.1))/10,localStorage.setItem("takeb1nzytospace:playerVolume",n.volume),Logger.info("[Player] Volume incremented: "+n.volume)}),Mousetrap.bind("down",function(e){e.preventDefault(),n.volume=0==n.volume?n.volume:Math.round(10*(n.volume-.1))/10,localStorage.setItem("takeb1nzytospace:playerVolume",n.volume),Logger.info("[Player] Volume decremented: "+n.volume)});var t=window.playSong=function(e){a=e,o.innerText=e[0],o.setAttribute("href",e[1]),n.setAttribute("src","assets/music/"+e[0]+".mp3"),n.load();var t=n.play();void 0!==t?t.then(function(){i.style.display="none",Logger.info("[Player] Started playing "+e[0]+".")}).catch(function(){i.style.display="block",Logger.info("[Player] Autoplay failed, waiting for event.")}):Logger.info("[Player] Started playing "+e[0]+"."),n.addEventListener("ended",r)};if(document.body.addEventListener("click",function(){n.paused&&(n.play(),i.style.display="none")}),query.hasOwnProperty("song")){if(config.audioFiles[query.song])return Logger.info("[Player] Playing song from query string."),t(config.audioFiles[query.song])}else if(query.hasOwnProperty("nyan")&&config.nyanMode&&null!==config.nyanSong)return Logger.info("[Player] Playing nyan cat song."),t(config.nyanSong);r()});